<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-connector-development/connector-builder-ui/partitioning">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Partitioning | Airbyte Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.airbyte.com/connector-development/connector-builder-ui/partitioning"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Partitioning | Airbyte Documentation"><meta data-rh="true" name="description" content="Partitioning is required if the records of a stream are grouped into buckets based on an attribute or parent resources that need to be queried separately to extract the records."><meta data-rh="true" property="og:description" content="Partitioning is required if the records of a stream are grouped into buckets based on an attribute or parent resources that need to be queried separately to extract the records."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.airbyte.com/connector-development/connector-builder-ui/partitioning"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com/connector-development/connector-builder-ui/partitioning" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com/connector-development/connector-builder-ui/partitioning" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156258629-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-156258629-2",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.3e2ebee3.css">
<link rel="preload" href="/assets/js/runtime~main.51c930ad.js" as="script">
<link rel="preload" href="/assets/js/main.ab1b5b92.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-dark.png" alt="Simple, secure and extensible data integration" class="themedImage_ToTc themedImage--light_HNdA" height="40" width="140"><img src="/img/logo-light.png" alt="Simple, secure and extensible data integration" class="themedImage_ToTc themedImage--dark_i4oU" height="40" width="140"></div><b class="navbar__title text--truncate"></b></a><a href="https://airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://status.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://airbyte.com/tutorials" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discuss.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://cloud.airbyte.io/signup?utm_campaign=22Q1_AirbyteCloudSignUpCampaign_Trial&amp;utm_source=Docs&amp;utm_content=NavBar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Airbyte Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Start here</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Airbyte Connectors</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/integrations/">Connector Catalog</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connector Catalog&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/connector-development/">Build a Connector</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/connector-development/connector-builder-ui/overview">Connector Builder</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/overview">Connector Builder Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/connector-builder-compatibility">Compatibility Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/tutorial">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/connector-development/connector-builder-ui/authentication">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/record-processing">Record processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/pagination">Pagination</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/incremental-sync">Incremental sync</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/connector-development/connector-builder-ui/partitioning">Partitioning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-builder-ui/error-handling">Error Handling</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/connector-development/config-based/low-code-cdk-overview">Low-code connector development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connector-development/cdk-python/">Connector Development Kit</a><button aria-label="Toggle the collapsible sidebar category &#x27;Connector Development Kit&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/connector-development/testing-connectors/">Testing Connectors</a><button aria-label="Toggle the collapsible sidebar category &#x27;Testing Connectors&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/connector-development/tutorials/cdk-speedrun">Tutorials</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/connector-specification-reference">Connector Specification Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/best-practices">Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/connector-development/ux-handbook">UX Handbook</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Airbyte Cloud</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/getting-started-with-airbyte-cloud">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cloud/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/using-airbyte-cloud">Using Airbyte Cloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;Using Airbyte Cloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Airbyte Open Source (OSS)</li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/deploy-airbyte">Deploy Airbyte</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploy Airbyte&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/manage-airbyte">Manage Airbyte</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Airbyte&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/troubleshooting/">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Developer Guides</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api-documentation">API documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cli-documentation">CLI documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/understanding-airbyte/beginners-guide-to-catalog">Understand Airbyte</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/contributing-to-airbyte/">Contribute to Airbyte</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 navbar__category">Resources</li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operator-guides/security">Airbyte Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://app.harvestr.io/roadmap/view/pQU6gdCyc/airbyte-roadmap" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Project Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/release-notes">Release Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Release Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Build a Connector</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Connector Builder</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Partitioning</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Partitioning</h1><p>Partitioning is required if the records of a stream are grouped into buckets based on an attribute or parent resources that need to be queried separately to extract the records.</p><p>Sometimes records belonging to a single stream are partitioned into subsets that need to be fetched separately. In most cases, these partitions are a parent resource type of the resource type targeted by the connector. The partitioning feature can be used to configure your connector to iterate through all partitions. In API documentation, this concept can show up as mandatory parameters that need to be set on the path, query parameters or request body of the request. </p><p>Common API structures look like this:</p><ul><li>The <a href="https://developers.surveysparrow.com/rest-apis/response#getV3Responses" target="_blank" rel="noopener noreferrer">SurveySparrow API</a> allows to fetch a list of responses to surveys. For the <code>/responses</code> endpoint, the id of the survey to fetch responses for needs to be specified via the query parameter <code>survey_id</code>. The API does not allow to fetch responses for all available surveys in a single request, there needs to be a separate request per survey. The surveys represent the partitions of the responses stream.</li><li>The <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#order-notes" target="_blank" rel="noopener noreferrer">Woocommerce API</a> includes an endpoint to fetch notes of webshop orders via the <code>/orders/&lt;id&gt;/notes</code> endpoint. The <code>&lt;id&gt;</code> placeholder needs to be set to the id of the order to fetch the notes for. The orders represent the partitions of the notes stream.</li></ul><p>There are some cases that require multiple requests to fetch all records as well, but partitioning is not the right tool to configure these in the connector builder:</p><ul><li>If your records are spread out across multiple pages that need to be requested individually if there are too many records, use the Pagination feature.</li><li>If your records are spread out over time and multiple requests are necessary to fetch all data (for example one request per day), use the Incremental sync feature.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-and-static-partition-routing">Dynamic and static partition routing<a href="#dynamic-and-static-partition-routing" class="hash-link" aria-label="Direct link to Dynamic and static partition routing" title="Direct link to Dynamic and static partition routing">​</a></h2><p>There are three possible sources for the partitions that need to be queried - the connector itself, supplied by the end user when configuring a Source based on the connector, or the API  provides the list of partitions on another endpoint (for example the Woocommerce API also includes an <code>/orders</code> endpoint that returns all orders).</p><p>The first two options are a &quot;static&quot; form of partition routing (because the partitions won&#x27;t change as long as the Airbyte configuration isn&#x27;t changed). The API providing the partitions via one or multiple separate requests is a &quot;dynamic&quot; form of partition routing because the partitions can change any time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="list-partition-router">List partition router<a href="#list-partition-router" class="hash-link" aria-label="Direct link to List partition router" title="Direct link to List partition router">​</a></h3><p>To configure static partitioning, choose the &quot;List&quot; method for the partition router. The following fields have to be configured:</p><ul><li>The &quot;partition values&quot; can either be set to a list of strings, making the partitions part of the connector itself or delegated to a user input so the end user configuring a Source based on the connector can control which partitions to fetch. When using &quot;user input&quot; mode for the partition values, create a user input of type array and reference it as the value using the <a href="/connector-development/config-based/understanding-the-yaml-file/reference#variables">placeholder</a> value using <code>{{ config[&#x27;&lt;your chosen user input name&gt;&#x27;] }}</code></li><li>The &quot;Current partition value identifier&quot; can be freely choosen and is the identifier of the variable holding the current partition value. It can for example be used in the path of the stream using the <code>{{ stream_partition.&lt;identifier&gt; }}</code> syntax.</li><li>The &quot;Inject partition value into outgoing HTTP request&quot; option allows you to configure how to add the current partition value to the requests</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4><p>To enable static partition routing defined as part of the connector for the <a href="https://developers.surveysparrow.com/rest-apis/response#getV3Responses" target="_blank" rel="noopener noreferrer">SurveySparrow API</a> responses, the list partition router needs to be configured as following:</p><ul><li>&quot;Partition values&quot; are set to the list of survey ids to fetch</li><li>&quot;Current partition value identifier&quot; is set to <code>survey</code> (this is not used for this example)</li><li>&quot;Inject partition value into outgoing HTTP request&quot; is set to <code>request_parameter</code> for the field name <code>survey_id</code></li></ul><p>When partition values were set to <code>123</code>, <code>456</code> and <code>789</code>, the following requests will be executed:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://api.surveysparrow.com/v3/responses?survey_id=123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://api.surveysparrow.com/v3/responses?survey_id=456</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://api.surveysparrow.com/v3/responses?survey_id=789</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To enable user-configurable static partitions for the <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#order-notes" target="_blank" rel="noopener noreferrer">Woocommerce API</a> order notes, the configuration would look like this:</p><ul><li>Set &quot;Partition values&quot; to &quot;User input&quot;</li><li>In the &quot;Value&quot; input, click the blue user icon and create a new user input</li><li>Name it <code>Order IDs</code>, set type to <code>array</code> and click create</li><li>Set &quot;Current partition value identifier&quot; to <code>order</code></li><li>&quot;Inject partition value into outgoing HTTP request&quot; is disabled, because the order id needs to be injected into the path</li><li>In the general section of the stream configuration, the &quot;Path URL&quot; is set to <code>/orders/{{ stream_partition.order }}/notes</code></li></ul><iframe width="640" height="777" src="https://www.loom.com/embed/df5d437eeaf545a9be25a1e7649217dc" frameborder="0"></iframe><p>When order IDs were set to <code>123</code>, <code>456</code> and <code>789</code> in the testing values, the following requests will be executed:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://example.com/wp-json/wc/v3/orders/123/notes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://example.com/wp-json/wc/v3/orders/456/notes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://example.com/wp-json/wc/v3/orders/789/notes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="substream-partition-router">Substream partition router<a href="#substream-partition-router" class="hash-link" aria-label="Direct link to Substream partition router" title="Direct link to Substream partition router">​</a></h3><p>To fetch the list of partitions (in this example surveys or orders) from the API itself, the &quot;Substream&quot; partition router has to be used. It allows you to select another stream of the same connector to serve as the source for partitions to fetch. Each record of the parent stream is used as a partition for the current stream.</p><p>The following fields have to be configured to use the substream partition router:</p><ul><li>The &quot;Parent stream&quot; defines the records of which stream should be used as partitions</li><li>The &quot;Parent key&quot; is the property on the parent stream record that should become the partition value (in most cases this is some form of id)</li><li>The &quot;Current partition value identifier&quot; can be freely choosen and is the identifier of the variable holding the current partition value. It can for example be used in the path of the stream using the <code>{{ stream_partition.&lt;identifier&gt; }}</code> <a href="/connector-development/config-based/understanding-the-yaml-file/reference#variables">interpolation placeholder</a>.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a href="#example-1" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4><p>To enable dynamic partition routing for the <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#order-notes" target="_blank" rel="noopener noreferrer">Woocommerce API</a> order notes, first an &quot;orders&quot; stream needs to be configured for the <code>/orders</code> endpoint to fetch a list of orders. Once this is done, the partition router for responses has be configured like this:</p><ul><li>&quot;Parent key&quot; is set to <code>id</code></li><li>&quot;Current partition value identifier&quot; is set to <code>order</code></li><li>In the general section of the stream configuration, the &quot;Path URL&quot; is set to <code>/orders/{{ stream_partition.order }}/notes</code></li></ul><iframe width="640" height="765" src="https://www.loom.com/embed/41bb2ffba45644bbbda43f7e679f2754" frameborder="0"></iframe><p>When triggering a sync, the connector will first fetch all records of the orders stream. The records will look like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;id&quot;: 123, &quot;currency&quot;: &quot;EUR&quot;, &quot;shipping_total&quot;: &quot;12.23&quot;, ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;id&quot;: 456, &quot;currency&quot;: &quot;EUR&quot;, &quot;shipping_total&quot;: &quot;45.56&quot;, ... }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;id&quot;: 789, &quot;currency&quot;: &quot;EUR&quot;, &quot;shipping_total&quot;: &quot;78.89&quot;, ... }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To turn a record into a partition value, the &quot;parent key&quot; is extracted, resulting in the partition values <code>123</code>, <code>456</code> and <code>789</code>. In turn, this results in the following requests to fetch the records of the notes stream:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://example.com/wp-json/wc/v3/orders/123/notes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://example.com/wp-json/wc/v3/orders/456/notes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://example.com/wp-json/wc/v3/orders/789/notes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-partition-routers">Multiple partition routers<a href="#multiple-partition-routers" class="hash-link" aria-label="Direct link to Multiple partition routers" title="Direct link to Multiple partition routers">​</a></h2><p>It is possible to configure multiple partition routers on a single stream - if this is the case, all possible combinations of partition values are requested separately.</p><p>For example, the <a href="https://developers.google.com/speed/docs/insights/v5/reference/pagespeedapi/runpagespeed" target="_blank" rel="noopener noreferrer">Google Pagespeed API</a> allows to specify the URL and the &quot;strategy&quot; to run an analysis for. To allow a user to trigger an analysis for multiple URLs and strategies at the same time, two list partition routers can be used (one injecting the partition value into the <code>url</code> parameter, one injecting it into the <code>strategy</code> parameter).</p><p>If a user configures the URLs <code>example.com</code> and <code>example.org</code> and the strategies <code>desktop</code> and <code>mobile</code>, then the following requests will be triggered</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=example.com&amp;strategy=desktop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=example.com&amp;strategy=mobile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=example.org&amp;strategy=desktop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X GET https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=example.org&amp;strategy=mobile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-the-partition-value-to-the-record">Adding the partition value to the record<a href="#adding-the-partition-value-to-the-record" class="hash-link" aria-label="Direct link to Adding the partition value to the record" title="Direct link to Adding the partition value to the record">​</a></h2><p>Sometimes it&#x27;s helpful to attach the partition a record belongs to to the record itself so it can be used during analysis in the destination. This can be done using a transformation to add a field and the <code>{{ stream_partition.&lt;identifier&gt; }}</code> interpolation placeholder.</p><p>For example when fetching the order notes via the <a href="https://woocommerce.github.io/woocommerce-rest-api-docs/#order-notes" target="_blank" rel="noopener noreferrer">Woocommerce API</a>, the order id itself is not included in the note record, which means it won&#x27;t be possible to associate which note belongs to which order:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;id&quot;: 999, &quot;author&quot;: &quot;Jon Doe&quot;, &quot;note&quot;: &quot;Great product!&quot; }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>However the order id can be added by taking the following steps:</p><ul><li>Making sure the &quot;Current partition value identifier&quot; is set to <code>order</code></li><li>Add an &quot;Add field&quot; transformation with &quot;Path&quot; <code>order_id</code> and &quot;Value&quot; <code>{{ stream_partition.order }}</code></li></ul><p>Using this configuration, the notes record looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{ &quot;id&quot;: 999, &quot;author&quot;: &quot;Jon Doe&quot;, &quot;note&quot;: &quot;Great product!&quot;, &quot;order_id&quot;: 123 }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="custom-parameter-injection">Custom parameter injection<a href="#custom-parameter-injection" class="hash-link" aria-label="Direct link to Custom parameter injection" title="Direct link to Custom parameter injection">​</a></h2><p>Using the &quot;Inject partition value into outgoing HTTP request&quot; option in the partitioning form works for most cases, but sometimes the API has special requirements that can&#x27;t be handled this way:</p><ul><li>The API requires to add a prefix or a suffix to the actual value</li><li>Multiple values need to be put together in a single parameter</li><li>The value needs to be injected into the URL path</li><li>Some conditional logic needs to be applied</li></ul><p>To handle these cases, disable injection in the partitioning form and use the generic parameter section at the bottom of the stream configuration form to freely configure query parameters, headers and properties of the JSON body, by using jinja expressions and <a href="/connector-development/config-based/understanding-the-yaml-file/reference/#/variables">available variables</a>. You can also use these variables (like <code>stream_partition</code>) as part of the URL path as shown in the Woocommerce example above.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/airbytehq/airbyte/blob/master/docs/../docs/connector-development/connector-builder-ui/partitioning.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/connector-development/connector-builder-ui/incremental-sync"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Incremental sync</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/connector-development/connector-builder-ui/error-handling"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Error Handling</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dynamic-and-static-partition-routing" class="table-of-contents__link toc-highlight">Dynamic and static partition routing</a><ul><li><a href="#list-partition-router" class="table-of-contents__link toc-highlight">List partition router</a></li><li><a href="#substream-partition-router" class="table-of-contents__link toc-highlight">Substream partition router</a></li></ul></li><li><a href="#multiple-partition-routers" class="table-of-contents__link toc-highlight">Multiple partition routers</a></li><li><a href="#adding-the-partition-value-to-the-record" class="table-of-contents__link toc-highlight">Adding the partition value to the record</a></li><li><a href="#custom-parameter-injection" class="table-of-contents__link toc-highlight">Custom parameter injection</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.51c930ad.js"></script>
<script src="/assets/js/main.ab1b5b92.js"></script>
</body>
</html>