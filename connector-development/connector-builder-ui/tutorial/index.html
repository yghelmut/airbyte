<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-connector-development/connector-builder-ui/tutorial">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Tutorial | Airbyte Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.airbyte.com/connector-development/connector-builder-ui/tutorial"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Tutorial | Airbyte Documentation"><meta data-rh="true" name="description" content="This tutorial will walk you through the creation of an Airbyte connector using the connector builder UI to read and extract data from an HTTP API."><meta data-rh="true" property="og:description" content="This tutorial will walk you through the creation of an Airbyte connector using the connector builder UI to read and extract data from an HTTP API."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.airbyte.com/connector-development/connector-builder-ui/tutorial"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com/connector-development/connector-builder-ui/tutorial" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.airbyte.com/connector-development/connector-builder-ui/tutorial" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156258629-2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-156258629-2",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.3e2ebee3.css">
<link rel="preload" href="/assets/js/runtime~main.d77a2f02.js" as="script">
<link rel="preload" href="/assets/js/main.cf2bc509.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-dark.png" alt="Simple, secure and extensible data integration" class="themedImage_ToTc themedImage--light_HNdA" height="40" width="140"><img src="/img/logo-light.png" alt="Simple, secure and extensible data integration" class="themedImage_ToTc themedImage--dark_i4oU" height="40" width="140"></div><b class="navbar__title text--truncate"></b></a><a href="https://airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://status.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://airbyte.com/tutorials" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Tutorials<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discuss.airbyte.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://cloud.airbyte.io/signup?utm_campaign=22Q1_AirbyteCloudSignUpCampaign_Trial&amp;utm_source=Docs&amp;utm_content=NavBar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Airbyte Cloud<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Tutorial</h1><p>This tutorial will walk you through the creation of an Airbyte connector using the connector builder UI to read and extract data from an HTTP API.</p><p>You will build a connector reading data from the Exchange Rates API, but the steps apply to other HTTP APIs you might be interested in integrating with.</p><p>The API documentation can be found <a href="https://apilayer.com/marketplace/exchangerates_data-api" target="_blank" rel="noopener noreferrer">here</a>.
In this tutorial, we will read data from the following endpoints:</p><ul><li><code>Latest Rates Endpoint</code></li><li><code>Historical Rates Endpoint</code></li></ul><p>With the end goal of implementing a source connector with a single <code>Stream</code> containing exchange rates going from a base currency to many other currencies.
The output schema of our stream will look like the following:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;base&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;USD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;date&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2022-07-15&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;CAD&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.28</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;EUR&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.98</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1---setup">Step 1 - Setup<a href="#step-1---setup" class="hash-link" aria-label="Direct link to Step 1 - Setup" title="Direct link to Step 1 - Setup">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-exchange-rates-api-key">Setting up Exchange Rates API key<a href="#setting-up-exchange-rates-api-key" class="hash-link" aria-label="Direct link to Setting up Exchange Rates API key" title="Direct link to Setting up Exchange Rates API key">​</a></h3><p>Before we get started, you&#x27;ll need to generate an API access key for the Exchange Rates API.
This can be done by signing up for the Free tier plan on <a href="https://exchangeratesapi.io/" target="_blank" rel="noopener noreferrer">Exchange Rates API</a>:</p><ol><li>Visit <a href="https://exchangeratesapi.io" target="_blank" rel="noopener noreferrer">https://exchangeratesapi.io</a> and click &quot;Get free API key&quot; on the top right</li><li>You&#x27;ll be taken to <a href="https://apilayer.com" target="_blank" rel="noopener noreferrer">https://apilayer.com</a> -- finish the sign up process, signing up for the free tier</li><li>Once you&#x27;re signed in, visit <a href="https://apilayer.com/marketplace/exchangerates_data-api#documentation-tab" target="_blank" rel="noopener noreferrer">https://apilayer.com/marketplace/exchangerates_data-api#documentation-tab</a> and click &quot;Live Demo&quot;</li><li>Inside that editor, you&#x27;ll see an API key. This is your API key.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-environment">Setting up the environment<a href="#setting-up-the-environment" class="hash-link" aria-label="Direct link to Setting up the environment" title="Direct link to Setting up the environment">​</a></h3><p>Besides an Exchange Rates API key, only a browser and an up-to-date running Airbyte instance is required. There are two ways to accomplish this:</p><ul><li>Coming soon: Sign up on <a href="https://cloud.airbyte.com/" target="_blank" rel="noopener noreferrer">cloud.airbyte.com</a></li><li>Download and run Airbyte <a href="https://github.com/airbytehq/airbyte#quick-start" target="_blank" rel="noopener noreferrer">on your own infrastructure</a>. Make sure you are running version 0.43.0 or later</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2---basic-configuration">Step 2 - Basic configuration<a href="#step-2---basic-configuration" class="hash-link" aria-label="Direct link to Step 2 - Basic configuration" title="Direct link to Step 2 - Basic configuration">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-connector-builder-project">Creating a connector builder project<a href="#creating-a-connector-builder-project" class="hash-link" aria-label="Direct link to Creating a connector builder project" title="Direct link to Creating a connector builder project">​</a></h3><p>When developing a connector using the connector builder UI, the current state is saved in a connector builder project. These projects are saved as part of the Airbyte workspace and are separate from your source configurations and connections. In the last step of this tutorial you will publish the connector builder project to make it ready to use in connections to run syncs.</p><p>To get started, follow the following steps:</p><ul><li>Visit the Airbyte UI in your browser</li><li>Go to the connector builder page by clicking the &quot;Builder&quot; item in the left hand navigation bar</li><li>Select &quot;Start from scratch&quot; to start a new connector builder project (in case you have already created builder connectors before, click the &quot;New custom connector&quot; button in the top right corner)</li><li>Set the connector name to <code>Exchange Rates (Tutorial)</code></li></ul><p>Your connector builder project is now set up. The next steps describe how to configure your connector to extract records from the Exchange Rates API.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-global-configuration">Setting up global configuration<a href="#setting-up-global-configuration" class="hash-link" aria-label="Direct link to Setting up global configuration" title="Direct link to Setting up global configuration">​</a></h3><p>On the &quot;global configuration&quot; page, general settings applying to all streams are configured - the base URL that requests are sent to, as well as configuration for how to authenticate with the API server.</p><ul><li>Set the base URL to <code>https://api.apilayer.com</code></li><li>Select the &quot;API Key&quot; authentication method</li><li>Set the &quot;Header&quot; to <code>apikey</code></li></ul><p>The actual API Key you copied from apilayer.com will not be part of the connector itself - instead it will be set as part of the source configuration when configuring a connection based on your connector in a later step.</p><p><img loading="lazy" alt="Global configuration" src="/assets/images/tutorial-global-config-61f265d0246b1a03142b225142215d14.png" width="1730" height="982" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-and-testing-a-stream">Setting up and testing a stream<a href="#setting-up-and-testing-a-stream" class="hash-link" aria-label="Direct link to Setting up and testing a stream" title="Direct link to Setting up and testing a stream">​</a></h3><p>Now that you configured how to talk the API, let&#x27;s set up the stream of records that will be sent to a destination later on. To do so, click the button with the plus icon next to the &quot;Streams&quot; section in the side menu and fill out the form:</p><ul><li>Set the name to &quot;Rates&quot;</li><li>Set the &quot;URL path&quot; to <code>/exchangerates_data/latest</code></li><li>Submit</li></ul><img loading="lazy" src="/assets/images/tutorial-new-stream-c05d506be3625a2152dfbaa6fdb4902a.png" width="400" alt="Stream modal" class="img_ev3q"><p>Now the basic stream is configured and can be tested. To send test requests, supply testing values by clicking the &quot;Testing values&quot; button in top right and pasting your API key in the input.</p><p><img loading="lazy" alt="Testing values" src="/assets/images/tutorial-testing-values-057a0f0086dc6144b1109f42658cefa4.png" width="1902" height="766" class="img_ev3q"></p><p>This form corresponds to what a user of this connector will need to provide when setting up a connection later on. The testing values are not saved along with the connector project.</p><p>Now, click the &quot;Test&quot; button to trigger a test read to simulate what will happen during a sync. After a little while, you should see a single record that looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;base&quot;: &quot;EUR&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;date&quot;: &quot;2023-04-13&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;rates&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;AED&quot;: 4.053261,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;AFN&quot;: 95.237669,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ALL&quot;: 112.964844,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;AMD&quot;: 432.048005,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In a real sync, this record will be passed on to a destination like a warehouse.</p><p>The request/response tabs are helpful during development to see which requests and responses your connector will send and receive from the API.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-the-record-schema">Declaring the record schema<a href="#declaring-the-record-schema" class="hash-link" aria-label="Direct link to Declaring the record schema" title="Direct link to Declaring the record schema">​</a></h3><p>Each stream of a connector needs to declare how emitted records will look like (which properties do they have, what data types will be used, ...). During a sync, this information will be passed on to the destination to configure it correctly - for example a SQL database destination can use it to properly set up the destination table, assigning the right type to each column.</p><p>By default, the stream schema is set to a simple object with unspecified properties. However, the connector builder can infer the schema based on the test read you just issued. To use the infered schema, switch to the &quot;Detected schema&quot; tab and click the &quot;Import schema&quot; button.</p><p>The warning icon disappears indicating that the declared schema of your stream matches the test data.</p><img loading="lazy" src="/assets/images/tutorial-schema-63bce00e5a6e50d301fa868a07317d25.png" width="600" alt="Schema tab" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3---advanced-configuration">Step 3 - Advanced configuration<a href="#step-3---advanced-configuration" class="hash-link" aria-label="Direct link to Step 3 - Advanced configuration" title="Direct link to Step 3 - Advanced configuration">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="making-the-stream-configurable">Making the stream configurable<a href="#making-the-stream-configurable" class="hash-link" aria-label="Direct link to Making the stream configurable" title="Direct link to Making the stream configurable">​</a></h3><p>The exchange rate API supports configuring a different base currency via request parameter - let&#x27;s make this part of the user inputs that can be controlled by the user of the connector when configuring a source, similar to the API key.</p><p>To do so, follow these steps:</p><ul><li>Scroll down to the &quot;Request parameters&quot; section and add a new request parameter</li><li>Set the key to <code>base</code></li><li>For the value, click the user icon in the input and select &quot;New user input&quot;</li><li>Set the name to &quot;Base&quot;</li><li>Click &quot;Create&quot;</li></ul><img loading="lazy" src="/assets/images/tutorial-user-input-592456608e20e8fb0de603f7d691e78f.png" width="400" alt="User input modal" class="img_ev3q"><p>The value input is now set to <code>{{ config[&#x27;base&#x27;] }}</code>. When making requests, the connector will replace this placeholder by the user supplied value. This syntax can be used in all fields that have a user icon on the right side.</p><p>Now your connector has a second configuration input. To test it, click the &quot;Testing values&quot; button again, set the &quot;Base&quot; to <code>USD</code>. Then, click the &quot;Test&quot; button again to issue a new test read.</p><p>The record should update to use USD as the base currency:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;base&quot;: &quot;USD&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;date&quot;: &quot;2023-04-13&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;rates&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;AED&quot;: 3.6723,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;AFN&quot;: 86.286329,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ALL&quot;: 102.489617,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;AMD&quot;: 391.984204,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-incremental-reads">Adding incremental reads<a href="#adding-incremental-reads" class="hash-link" aria-label="Direct link to Adding incremental reads" title="Direct link to Adding incremental reads">​</a></h3><p>We now have a working implementation of a connector reading the latest exchange rates for a given currency.
In this section, we&#x27;ll update the source to read historical data instead of only reading the latest exchange rates.</p><p>According to the API documentation, we can read the exchange rate for a specific date range by querying the <code>&quot;/exchangerates_data/{date}&quot;</code> endpoint instead of <code>&quot;/exchangerates_data/latest&quot;</code>.</p><p>To configure your connector to request every day individually, follow these steps:</p><ul><li>On top of the form, change the &quot;Path URL&quot; input to <code>/exchangerates_data/{{ stream_slice.start_time }}</code> to inject the date to fetch data for into the path of the request</li><li>Enable &quot;Incremental sync&quot; for the Rates stream</li><li>Set the &quot;Cursor field&quot; to <code>date</code> - this is the property in our records to check what date got synced last</li><li>Set the &quot;Datetime format&quot; to <code>%Y-%m-%d</code> to match the format of the date in the record returned from the API</li><li>Set the &quot;Cursor granularity&quot; to <code>P1D</code> to tell the connector the API only supports daily increments</li><li>Make the start time configurable by clicking the user icon in the &quot;Start datetime&quot; input and creating a new user input called <code>Start date</code></li><li>Set the &quot;End datetime&quot; to <code>{{ today_utc() }}</code> to always sync up to the current day</li><li>In a lot of cases the start and end date are injected into the request body or request parameters. However in the case of the exchange rate API it needs to be added to the path of the request, so disable the &quot;Inject start/end time into outgoing HTTP request&quot; options</li><li>Open the &quot;Advanced&quot; section and set &quot;Step&quot; to <code>P1D</code> to configure the connector to do one separate request per day by partitioning the dataset into daily intervals</li><li>Set a start date (like <code>2023-03-03</code>) in the &quot;Testing values&quot; menu</li><li>Hit the &quot;Test&quot; button to trigger a new test read</li></ul><p>Now, you should see a dropdown above the records view that lets you step through the daily exchange rates along with the requests performed to fetch this data. Note that in the connector builder at most 5 partitions are requested to speed up testing. During a proper sync the full time range between your configured start date and the current day will be executed.</p><p>When used in a connection, the connector will make sure exchange rates for the same day are not requested multiple times - the date of the last fetched record will be stored and the next scheduled sync will pick up from where the previous one stopped.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-transformations">Adding transformations<a href="#adding-transformations" class="hash-link" aria-label="Direct link to Adding transformations" title="Direct link to Adding transformations">​</a></h3><p>Note that a warning icon should show next to the &quot;Detected schema&quot; tab - using the per-date endpoint instead of the latest endpoint slightly changed the shape of the records by adding a <code>historical</code> property. As we don&#x27;t need this property in our destination, we can remove it using a transformation.</p><p>To do so, follow these steps:</p><ul><li>Enable the &quot;Transformations&quot; section</li><li>Set the &quot;Path&quot; to <code>historical</code></li><li>Trigger a new test read</li></ul><p>The <code>historical</code> property in the records tab and the schema warning should disappear.</p><p><img loading="lazy" alt="Transformation" src="/assets/images/tutorial-transformation-0852b70a1310791f5ecf3effa0e28f5f.png" width="1652" height="570" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4---publishing-and-syncing">Step 4 - Publishing and syncing<a href="#step-4---publishing-and-syncing" class="hash-link" aria-label="Direct link to Step 4 - Publishing and syncing" title="Direct link to Step 4 - Publishing and syncing">​</a></h2><p>So far, the connector is only configured as part of the connector builder project. To make it possible to use it in actual connections, you need to publish the connector. This captures the current state of the configuration and makes the connector available as a custom connector within the current Airbyte workspace.</p><p>To use the connector for a proper sync, follow these steps:</p><ul><li>Click the &quot;Publish&quot; button and publish the first version of the &quot;Exchange Rates (Tutorial)&quot; connector</li><li>Go to the &quot;Connections&quot; page and create a new connection</li><li>As Source type, pick the &quot;Exchange Rates (Tutorial)&quot; connector you just created</li><li>Set API Key, base currency and start date for the sync - to avoid a large number of requests, set the start date to one week in the past</li><li>Click &quot;Set up source&quot; and wait for the connection check to validate the provided configuration is valid</li><li>Set up a destination - to keep things simple let&#x27;s choose the &quot;E2E Testing&quot; destination type</li><li>Click &quot;Set up destination&quot;, keeping the default configurations</li><li>Wait for Airbyte to check the record schema, then click &quot;Set up connection&quot; - this will create the connection and kick off the first sync</li><li>After a short while, the sync should complete successfully</li></ul><p><img loading="lazy" alt="Successful sync" src="/assets/images/tutorial-sync-8816c35ba5c9af97a3495c37acd36153.png" width="2618" height="862" class="img_ev3q"></p><p>Congratulations! You just completed the following steps:</p><ul><li>Configured a production-ready connector to extract currency exchange data from an HTTP-based API:<ul><li>Configurable API key, start date and base currency</li><li>Incremental sync to keep the number of requests small</li><li>Schema declaration to enable normalization in the destination</li></ul></li><li>Tested whether the connector works correctly in the builder</li><li>Made the working connector available to configure sources in the workspace</li><li>Set up a connection using the published connector and synced data from the Exchange Rates API</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next steps" title="Direct link to Next steps">​</a></h2><p>This tutorial didn&#x27;t go into depth about all features that can be used in the connector builder. Check out the concept pages for more information about certain topics:</p><ul><li>Authentication</li><li>Record processing</li><li>Pagination</li><li>Error handling</li><li>Incremental syncs</li><li>Partitioning</li></ul><p>Not every possible API can be consumed by connectors configured in the connector builder. The <a href="/connector-development/config-based/connector-builder-compatibility#oauth">compatibility guide</a> can help determining whether another technology should be used to integrate an API with the Airbyte platform.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/airbytehq/airbyte/blob/master/docs/../docs/connector-development/connector-builder-ui/tutorial.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1---setup" class="table-of-contents__link toc-highlight">Step 1 - Setup</a><ul><li><a href="#setting-up-exchange-rates-api-key" class="table-of-contents__link toc-highlight">Setting up Exchange Rates API key</a></li><li><a href="#setting-up-the-environment" class="table-of-contents__link toc-highlight">Setting up the environment</a></li></ul></li><li><a href="#step-2---basic-configuration" class="table-of-contents__link toc-highlight">Step 2 - Basic configuration</a><ul><li><a href="#creating-a-connector-builder-project" class="table-of-contents__link toc-highlight">Creating a connector builder project</a></li><li><a href="#setting-up-global-configuration" class="table-of-contents__link toc-highlight">Setting up global configuration</a></li><li><a href="#setting-up-and-testing-a-stream" class="table-of-contents__link toc-highlight">Setting up and testing a stream</a></li><li><a href="#declaring-the-record-schema" class="table-of-contents__link toc-highlight">Declaring the record schema</a></li></ul></li><li><a href="#step-3---advanced-configuration" class="table-of-contents__link toc-highlight">Step 3 - Advanced configuration</a><ul><li><a href="#making-the-stream-configurable" class="table-of-contents__link toc-highlight">Making the stream configurable</a></li><li><a href="#adding-incremental-reads" class="table-of-contents__link toc-highlight">Adding incremental reads</a></li><li><a href="#adding-transformations" class="table-of-contents__link toc-highlight">Adding transformations</a></li></ul></li><li><a href="#step-4---publishing-and-syncing" class="table-of-contents__link toc-highlight">Step 4 - Publishing and syncing</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next steps</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.d77a2f02.js"></script>
<script src="/assets/js/main.cf2bc509.js"></script>
</body>
</html>